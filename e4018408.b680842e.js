(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{155:function(e,a,n){"use strict";n.r(a),n.d(a,"frontMatter",(function(){return o})),n.d(a,"metadata",(function(){return i})),n.d(a,"rightToc",(function(){return l})),n.d(a,"default",(function(){return s}));var t=n(2),r=n(9),c=(n(0),n(159)),o={id:"declaraciones",title:"Declaraciones de Bienes Inmuebles",sidebar_label:"Declaraciones de Bienes Inmuebles"},i={id:"declaraciones",isDocsHomePage:!1,title:"Declaraciones de Bienes Inmuebles",description:"Los APIs aqu\xed enumerados se utilizan para realizar una declaraci\xf3n de bienes inmuebles en l\xednea. El m\xe9todo obtenerFinca se utiliza para consultar la informaci\xf3n de las fincas y las ones asociadas.",source:"@site/docs/declaraciones.md",permalink:"/apis/docs/declaraciones",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/declaraciones.md",sidebar_label:"Declaraciones de Bienes Inmuebles",sidebar:"someSidebar",previous:{title:"Integraci\xf3n Conectividad",permalink:"/apis/docs/integracion-conectividad"},next:{title:"Constancias",permalink:"/apis/docs/constancias"}},l=[{value:"Obtener Finca",id:"obtener-finca",children:[{value:"HTTP Request",id:"http-request",children:[]},{value:"Query Parameters",id:"query-parameters",children:[]},{value:"Ejemplo",id:"ejemplo",children:[]}]},{value:"Guardar Declaraci\xf3n",id:"guardar-declaraci\xf3n",children:[{value:"HTTP Request",id:"http-request-1",children:[]},{value:"Body Parameters",id:"body-parameters",children:[]},{value:"Ejemplo",id:"ejemplo-1",children:[]}]},{value:"Actualizar Declaraci\xf3n",id:"actualizar-declaraci\xf3n",children:[{value:"HTTP Request",id:"http-request-2",children:[]},{value:"Body Parameters",id:"body-parameters-1",children:[]},{value:"Ejemplo",id:"ejemplo-2",children:[]}]},{value:"Obtener Valor Declarado",id:"obtener-valor-declarado",children:[{value:"HTTP Request",id:"http-request-3",children:[]},{value:"Query Parameters",id:"query-parameters-1",children:[]},{value:"Ejemplo",id:"ejemplo-3",children:[]}]},{value:"Validaciones",id:"validaciones",children:[]}],d={rightToc:l};function s(e){var a=e.components,n=Object(r.a)(e,["components"]);return Object(c.b)("wrapper",Object(t.a)({},d,n,{components:a,mdxType:"MDXLayout"}),Object(c.b)("p",null,"Los APIs aqu\xed enumerados se utilizan para realizar una declaraci\xf3n de bienes inmuebles en l\xednea. El m\xe9todo ",Object(c.b)("inlineCode",{parentName:"p"},"obtenerFinca")," se utiliza para consultar la informaci\xf3n de las fincas y las ones asociadas."),Object(c.b)("p",null,"Para registrar la declaraci\xf3n de bienes inmuebles se utiliza el m\xe9todo ",Object(c.b)("inlineCode",{parentName:"p"},"guardarDeclaracion"),". Despu\xe9s de haber registrado la declaraci\xf3n, la Municipalidad hace sus c\xe1lculos y puede ajustar los valores antes de generar el movimiento pendiente a la finca declarada para su posterior aplicaci\xf3n para la entrada en vigencia en el siguiente a\xf1o. Se puede consultar el valor declarado de la finca por medio del m\xe9todo ",Object(c.b)("inlineCode",{parentName:"p"},"obtenerValorDeclarado"),"."),Object(c.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(c.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(c.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(c.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"Hay que poner atenci\xf3n a la diferencia entre el n\xfamero de finca y el n\xfamero de cuenta - campos que se utilizan para interactuar con los m\xe9todos descritos aqu\xed."),Object(c.b)("p",{parentName:"div"},"El ",Object(c.b)("inlineCode",{parentName:"p"},"n\xfamero de finca")," es un valor funcional que tiene un c\xf3digo integrado dentro de una hilera."),Object(c.b)("p",{parentName:"div"},"El ",Object(c.b)("inlineCode",{parentName:"p"},"n\xfamero de cuenta")," es un n\xfamero generado internamente por el sistema que se utiliza para garantizar unicidad."),Object(c.b)("p",{parentName:"div"},"Cualquier llamada para guardar datos nuevos deber\xe1 utilizar el n\xfamero de cuenta. Cualquier llamada para consultar datos deber\xe1 utilizar el n\xfamero de cuenta, n\xfamero de finca o el n\xfamero de c\xe9dula."))),Object(c.b)("h2",{id:"obtener-finca"},"Obtener Finca"),Object(c.b)("p",null,"Este m\xe9todo obtiene la informaci\xf3n sobre una o varias fincas. Para la b\xfasqueda, se debe proporcionar el n\xfamero de cuenta, el n\xfamero de finca o el n\xfamero de c\xe9dula. Si se utiliza una c\xe9dula, esta puede ser una c\xe9dula f\xedsica, jur\xeddica o DIMEX (entre otras). Las c\xe9dulas son validadas de manera flexible para tomar en cuenta posibles diferencias entre el dato en la base de datos y los est\xe1ndares que usa Hacienda, por ello se valida que sea un valor con m\xe1ximo 12 caracteres, todos num\xe9ricos (sin guiones). El objeto JSON que se devuelve puede contener varias fincas."),Object(c.b)("p",null,"Cada finca puede tener cero, una o m\xe1s ones. El objeto JSON que se devuelve tiene un arreglo con todas las construcciones asociadas a la finca."),Object(c.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(c.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(c.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(c.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"}," El valor de ",Object(c.b)("inlineCode",{parentName:"p"},"declaracionEnProceso")," indica si una finca tiene una a m\xe1s declaraciones en proceso, lo cual no permitir\xeda que se guarde una declaraci\xf3n nueva."),Object(c.b)("p",{parentName:"div"}," El valor de ",Object(c.b)("inlineCode",{parentName:"p"},"declaracionIngresadaEnLinea")," indica si se ha guardado una declaraci\xf3n para la finca con el webservice, lo cual no permitir\xeda que se guarde una declaraci\xf3n nueva."),Object(c.b)("p",{parentName:"div"}," Adem\xe1s se devuelve la fecha de \xfaltimo aval\xfao y \xfaltima declaraci\xf3n. No se deber\xeda intentar guardar una declaraci\xf3n nueva si la diferencia en a\xf1os de la \xfaltima fecha (aval\xfao/declaraci\xf3n) con el a\xf1o actual no excede la cantidad de a\xf1os definida en vigencia para cada tipo de fecha (yearsVigenciaAvaluo/yearsVigenciaDeclaracion)."))),Object(c.b)("h3",{id:"http-request"},"HTTP Request"),Object(c.b)("pre",null,Object(c.b)("code",Object(t.a)({parentName:"pre"},{className:"language-javascript"}),"GET https://webservice.ejemplo.com/v1/declaraciones/obtenerFinca\n")),Object(c.b)("h3",{id:"query-parameters"},"Query Parameters"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(t.a)({parentName:"tr"},{align:null}),"Par\xe1metro"),Object(c.b)("th",Object(t.a)({parentName:"tr"},{align:"center"}),"Descripci\xf3n"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"numeroCuenta"),Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:"center"}),"El n\xfamero de cuenta")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"numeroFinca"),Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:"center"}),"El n\xfamero de finca")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"cedula"),Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:"center"}),"El n\xfamero de c\xe9dula")))),Object(c.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(c.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(c.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(c.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"Solo se necesita uno de los par\xe1metros."))),Object(c.b)("h3",{id:"ejemplo"},"Ejemplo"),Object(c.b)("pre",null,Object(c.b)("code",Object(t.a)({parentName:"pre"},{className:"language-javascript"}),'# por n\xfamero de cuenta\ncurl -XGET -H "Authorization: Token RyNrhel3gtc92+4/Ml0RjbXTsJU=" "https://webservice.ejemplo.com/v1/declaraciones/obtenerFinca?numeroCuenta=1273"\n\n# por n\xfamero de finca\ncurl -XGET -H "Authorization: Token RyNrhel3gtc92+4/Ml0RjbXTsJU=" "https://webservice.ejemplo.com/v1/declaraciones/obtenerFinca?numeroFinca=234567"\n\n# por c\xe9dula\ncurl -XGET -H "Authorization: Token RyNrhel3gtc92+4/Ml0RjbXTsJU=" "https://webservice.ejemplo.com/v1/declaraciones/obtenerFinca?cedula=108780675"\n')),Object(c.b)("p",null,"Este m\xe9todo devuelve JSON estructurado de la siguiente manera:"),Object(c.b)("pre",null,Object(c.b)("code",Object(t.a)({parentName:"pre"},{className:"language-javascript"}),'[\n    {\n        "advertenciaAvaluo": false,\n        "alertaAvaluo": false,\n        "advertenciaDeclaracion": false,\n        "alertaDeclaracion": false,\n        "apartado": "",\n        "apartadoRepresentanteLegal": "",\n        "areaRegis": 100.0,\n        "canton": "Escaz\xfa",\n        "cantonRepresentanteLegal": "Escaz\xfa",\n        "cedula": "000000000",\n        "cedulaRepresentanteLegal": "000000000";\n        "codigoDuplicado": "",\n        "construcciones": [\n            {\n                "areaConstruccion": 220.0,\n                "cielo": "BA",\n                "detalleConstruccion": "prueba",\n                "edad": 0.0,\n                "estado": "O",\n                "numeroConstruccion": 14,\n                "numeroCuenta": 1273,\n                "numeroPlantas": 1,\n                "pared": "CONC",\n                "piso": "ASFA",\n                "techo": "HGA",\n                "tipoConstruccion": "COM",\n                "tipologia": "AP01",\n                "vidaUtil": 50.0,\n                "year": 2018\n            }\n        ],\n        "correoRepresentanteLegal": "representante@example.com",\n        "correoElectronico": "correo@example.com",\n        "correoElectronicoAlterno": "alterno@example.com",\n        "declaracionEnProceso": true,\n        "definicionIncompleta": false,\n        "declaracionIngresadaEnLinea": true,\n        "direccion1": "LA PRIMERA CASA A MANO IZQ",\n        "direccionPropiedad": "KKKKKKKKKKK",\n        "distrito": "Escaz\xfa",\n        "distritoRepresentanteLegal": "Escaz\xfa",\n        "fax": "2222-2222",\n        "faxRepresentanteLegal": "2222-2222",\n        "fechaUltimaDeclaracion": "22/01/2019",\n        "fechaUltimoAvaluo": "22/01/2019",\n        "filial": false,\n        "hidFiVal": "0",\n        "mapa": "9999999",\n        "nivelVia": "",\n        "nombreCompleto": "PERSONA DE PRUEBA",\n        "nombrePersona": "PERSONA",\n        "nombreRepresentanteLegal": "",\n        "numeroBloque": "",\n        "numeroCuenta": 1111,\n        "numeroDerecho": "002",\n        "numeroFinca": "000000",\n        "numeroParcela": "",\n        "numeroPlano": null,\n        "pendiente": null,\n        "porcentajeAreaComun": 0.0,\n        "porcentajeCondominio": 0.0,\n        "porcentajeDominio": 0.0,\n        "porcentajePosesion": 100.0,\n        "predio": null,\n        "primerApellido": "PRUEBA",\n        "provincia": "San Jos\xe9",\n        "provinciaRepresentanteLegal": "San Jos\xe9",\n        "regularidad": 1.0,\n        "sector": "",\n        "segregacion": "",\n        "segundoApellido": "PRUEBA",\n        "segundoNombre": "DE",\n        "telefonoHabitacionRepresentanteLegal": "2222-2222",\n        "telefonoOficina": "2222-2222",\n        "telefonoOficinaRepresentanteLegal": "2222-2222",\n        "telefonoResidencia": "",\n        "tieneAcera": true,\n        "tieneAlumbrado": true,\n        "tieneCaneria": false,\n        "tieneCano": true,\n        "tieneCordon": true,\n        "tieneElectricidad": true,\n        "tieneTelefono": true,\n        "tipoDerecho": "D",\n        "tipoViaPublica": "4",\n        "totalFrente": 8.0,\n        "ubicacionManzana": "5",\n        "usoActual": "COM",\n        "usoSuelo": "NA",\n        "yearsVigenciaAvaluo": 3,\n        "yearsVigenciaDeclaracion": 5,\n        "zonaHomogenea": "ZZZZ"\n    }\n]\n')),Object(c.b)("h2",{id:"guardar-declaraci\xf3n"},"Guardar Declaraci\xf3n"),Object(c.b)("p",null,"Este m\xe9todo guarda la informaci\xf3n proporcionada por medio de una declaraci\xf3n en l\xednea. En la declaraci\xf3n en l\xednea, se debe incluir informaci\xf3n sobre el valor del terreno y sus construcciones, fincas filiales, y un valor total."),Object(c.b)("p",null,"Tambi\xe9n se pueden proporcionar detalles de la declaraci\xf3n. En el detalle se pueden declarar cambios en la ",Object(c.b)("inlineCode",{parentName:"p"},"edad")," de una o m\xe1s construcciones asociadas. Cada cambio debe llevar el n\xfamero de construcci\xf3n correspondiente que identifique a la construcci\xf3n."),Object(c.b)("div",{className:"admonition admonition-important alert alert--info"},Object(c.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"important")),Object(c.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"}," Este m\xe9todo verifica valores obligatorios asociados a la finca que se estar\xeda modificando. Se deber\xe1 revisar el valor del indicador ",Object(c.b)("inlineCode",{parentName:"p"},"definicionIncompleta")," de la respuesta del m\xe9todo ",Object(c.b)("inlineCode",{parentName:"p"},"obtenerFinca")," para saber cuando se puede llamar a este m\xe9todo. En caso de que ",Object(c.b)("inlineCode",{parentName:"p"},"definicionIncompleta")," est\xe1 en ",Object(c.b)("inlineCode",{parentName:"p"},"true")," no se deber\xeda hacer la llamada a este m\xe9todo."),Object(c.b)("p",{parentName:"div"}," Este m\xe9todo verifica que no existan ni declaraciones existentes ingresadas en l\xednea ni declaraciones en proceso para la finca antes de intentar guardar la declaraci\xf3n. En caso de que exista una o m\xe1s declaraciones ingresadas en l\xednea o en proceso, se devolver\xe1 un error."),Object(c.b)("p",{parentName:"div"}," Tambi\xe9n se verifica que las fechas de \xfaltimo aval\xfao y \xfaltima declaraci\xf3n excedan la cantidad de a\xf1os de vigencia definidos (devueltos en la respuesta a obtener finca). Si no han pasado los a\xf1os definidos como vigente para una declaraci\xf3n, no se permite guardar una declaraci\xf3n nueva."))),Object(c.b)("h3",{id:"http-request-1"},"HTTP Request"),Object(c.b)("pre",null,Object(c.b)("code",Object(t.a)({parentName:"pre"},{className:"language-javascript"}),"POST https://webservice.ejemplo.com/v1/declaraciones/guardarDeclaracion\n")),Object(c.b)("h3",{id:"body-parameters"},"Body Parameters"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(t.a)({parentName:"tr"},{align:null}),"Par\xe1metro"),Object(c.b)("th",Object(t.a)({parentName:"tr"},{align:null}),"Descripci\xf3n"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"numeroCuenta"),Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"El n\xfamero de la cuenta")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"numeroFinca"),Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"El n\xfamero de finca")))),Object(c.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(c.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(c.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"caution")),Object(c.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"Al llamar este m\xe9todo se debe proporcionar el ",Object(c.b)("inlineCode",{parentName:"p"},"n\xfamero de cuenta")," y el ",Object(c.b)("inlineCode",{parentName:"p"},"n\xfamero de finca"),", ya que son la llave del registro. En la estructura que devuelve el m\xe9todo ",Object(c.b)("inlineCode",{parentName:"p"},"obtenerFinca")," se puede encontrar el n\xfamero de cuenta. El n\xfamero de cuenta no es lo mismo que el n\xfamero de finca ni la c\xe9dula."))),Object(c.b)("h3",{id:"ejemplo-1"},"Ejemplo"),Object(c.b)("pre",null,Object(c.b)("code",Object(t.a)({parentName:"pre"},{className:"language-javascript"}),'curl -XPOST -H "Authorization: Token RyNrhel3gtc92+4/Ml0RjbXTsJU=" -H \'Content-Type: application/json\'\n   "https://webservice.ejemplo.com/v1/declaraciones/guardarDeclaracion"\n   -d \'{"numeroCuenta":1000,\n        "numeroFinca":234567\n       }\'\n')),Object(c.b)("p",null,"Este m\xe9todo devuelvo JSON estructurado con el n\xfamero de la declaraci\xf3n adem\xe1s de los valores calculados de terreno y construcci\xf3n. Tambi\xe9n devuelve un c\xf3digo HTTP ",Object(c.b)("inlineCode",{parentName:"p"},"200 OK")," si se guard\xf3 correctamente:"),Object(c.b)("pre",null,Object(c.b)("code",Object(t.a)({parentName:"pre"},{className:"language-javascript"}),'{\n    "numeroDeclaracion": 4368,\n    "valorConstruccionCalculado": 750000,\n    "valorTerrenoCalculado": 2000000\n}\n')),Object(c.b)("h2",{id:"actualizar-declaraci\xf3n"},"Actualizar Declaraci\xf3n"),Object(c.b)("p",null,"Este m\xe9todo actualiza la informaci\xf3n de la declaraci\xf3n identificada por la informaci\xf3n proporcionada."),Object(c.b)("div",{className:"admonition admonition-important alert alert--info"},Object(c.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"important")),Object(c.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"}," Este m\xe9todo se debe ejecutar luego de haber ejecutar guardar declaraci\xf3n, ya que de ah\xed se obtendr\xeda el n\xfamero de declaraci\xf3n, adem\xe1s de los valores calculados de terreno y construcci\xf3n."))),Object(c.b)("h3",{id:"http-request-2"},"HTTP Request"),Object(c.b)("pre",null,Object(c.b)("code",Object(t.a)({parentName:"pre"},{className:"language-javascript"}),"POST https://webservice.ejemplo.com/v1/declaraciones/actualizarDeclaracion\n")),Object(c.b)("h3",{id:"body-parameters-1"},"Body Parameters"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(t.a)({parentName:"tr"},{align:null}),"Par\xe1metro"),Object(c.b)("th",Object(t.a)({parentName:"tr"},{align:null}),"Descripci\xf3n"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"numeroDeclaracion"),Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"El n\xfamero de declaraci\xf3n")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"valorTerreno"),Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"El valor del terreno")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"valorConstruccion"),Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"El valor de la construcci\xf3n")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"obrasComunesFincasFiliales"),Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"El valor de obras comunes en fincas filiales")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"terrenosComunesFincasFiliales"),Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"El valor de terrenos comunes en fincas filiales")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"valorTotal"),Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"El valor total de la declaraci\xf3n")))),Object(c.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(c.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(c.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"caution")),Object(c.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"Al llamar este m\xe9todo se debe proporcionar el ",Object(c.b)("inlineCode",{parentName:"p"},"n\xfamero de declaraci\xf3n")," que se devuelve como parte del m\xe9todo guardar declaraci\xf3n."))),Object(c.b)("div",{className:"admonition admonition-important alert alert--info"},Object(c.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"important")),Object(c.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"Este m\xe9todo utiliza c\xf3digos de respuesta para indicar el estado de la transacci\xf3n. Por ejemplo, un ",Object(c.b)("inlineCode",{parentName:"p"},"202 ACCEPTED")," en el caso exitoso. En caso de que falle, puede devolver uno de los errores descritos en la secci\xf3n de ",Object(c.b)("inlineCode",{parentName:"p"},"C\xf3digos de Error"),"."))),Object(c.b)("h3",{id:"ejemplo-2"},"Ejemplo"),Object(c.b)("pre",null,Object(c.b)("code",Object(t.a)({parentName:"pre"},{className:"language-javascript"}),'curl -XPOST -H "Authorization: Token RyNrhel3gtc92+4/Ml0RjbXTsJU=" -H \'Content-Type: application/json\'\n   "https://webservice.ejemplo.com/v1/declaraciones/actualizarDeclaracion"\n   -d \'{"numeroDeclaracion":4368,\n        "valorTerreno":50000.0,\n        "valorConstruccion":25000.0,\n        "obrasComunesFincasFiliales":0.0,\n        "terrenosComunesFincasFiliales":0.0,\n        "valorTotal":75000.0\n      }\'\n')),Object(c.b)("h2",{id:"obtener-valor-declarado"},"Obtener Valor Declarado"),Object(c.b)("p",null,"Este m\xe9todo obtiene el valor total declarado de una finca. El objeto JSON que se devuelve contiene el valor declarado acompa\xf1ado del desglose."),Object(c.b)("p",null,"El m\xe9todo devuelva una lista de todas las declaraciones que se est\xe1n cobrando o se estar\xe1n cobrando el pr\xf3ximo a\xf1o. Cada \xedtem de la lista incluye la fecha de la declaraci\xf3n."),Object(c.b)("h3",{id:"http-request-3"},"HTTP Request"),Object(c.b)("pre",null,Object(c.b)("code",Object(t.a)({parentName:"pre"},{className:"language-javascript"}),"GET https://webservice.ejemplo.com/v1/declaraciones/obtenerValorDeclarado\n")),Object(c.b)("h3",{id:"query-parameters-1"},"Query Parameters"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(t.a)({parentName:"tr"},{align:null}),"Par\xe1metro"),Object(c.b)("th",Object(t.a)({parentName:"tr"},{align:"center"}),"Descripci\xf3n"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"numeroCuenta"),Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:"center"}),"El n\xfamero de cuenta")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"numeroFinca"),Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:"center"}),"El n\xfamero de finca")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"cedula"),Object(c.b)("td",Object(t.a)({parentName:"tr"},{align:"center"}),"El n\xfamero de c\xe9dula")))),Object(c.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(c.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(c.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(c.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"Solo se necesita uno de los par\xe1metros."))),Object(c.b)("h3",{id:"ejemplo-3"},"Ejemplo"),Object(c.b)("pre",null,Object(c.b)("code",Object(t.a)({parentName:"pre"},{className:"language-javascript"}),'# por n\xfamero de cuenta\ncurl -XGET -H "Authorization: Token RyNrhel3gtc92+4/Ml0RjbXTsJU=" "https://webservice.ejemplo.com/v1/declaraciones/obtenerValorDeclarado?numeroCuenta=1273"\n\n# por n\xfamero de finca\ncurl -XGET -H "Authorization: Token RyNrhel3gtc92+4/Ml0RjbXTsJU=" "https://webservice.ejemplo.com/v1/declaraciones/obtenerValorDeclarado?numeroFinca=234567"\n\n# por c\xe9dula\ncurl -XGET -H "Authorization: Token RyNrhel3gtc92+4/Ml0RjbXTsJU=" "https://webservice.ejemplo.com/v1/declaraciones/obtenerValorDeclarado?cedula=11068610"\n')),Object(c.b)("p",null,"Este m\xe9todo devuelvo JSON estructurado de la siguiente manera:"),Object(c.b)("pre",null,Object(c.b)("code",Object(t.a)({parentName:"pre"},{className:"language-javascript"}),'[\n    {\n        "construccionesAreasComunes": 0.0,\n        "construccionesAreaPrivada": 0.0,\n        "numeroCuenta": 1275,\n        "numeroFinca": "102992",\n        "fechaDeclaracion": "10/08/2019",\n        "terrenoAreaComun": 0.0,\n        "terrenoAreaPrivada": 0.0,\n        "valorTerrenoCalculado": 20000000.0,\n        "valorConstruccionCalculado": 750000.0,\n        "valorDeclarado": 1500000.0,\n        "valorTerrenoDeclarado": 0.0,\n        "valorConstruccionesDeclarado": 1500000.0,\n        "valorAreaComunCondominioDeclarado": 0.0,\n        "valorConstruccionCondominioDeclarado": 0.0\n    }\n]\n')),Object(c.b)("h2",{id:"validaciones"},"Validaciones"),Object(c.b)("p",null,"Estas son las validaciones que se aplican al guardar, que se deber\xedan tomar en cuenta antes de intentar al m\xe9todo guardar:"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"declaracionEnProceso"),": Este valor indica si una finca tiene una a m\xe1s declaraciones en proceso, lo cual no permitir\xeda que se guarde una declaraci\xf3n nueva."),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"declaracionIngresadaEnLinea"),": Este valor indica si se ha guardado una declaraci\xf3n para la finca con el webservice, lo cual no permitir\xeda que se guarde una declaraci\xf3n nueva."),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"fechaUltimaDeclaracion"),": Este valor indica la fecha de la \xfaltima declaraci\xf3n. S\xf3lo se permite guardar una declaraci\xf3n nueva si la cantidad de a\xf1os que han transcurrido entre esa fecha y la fecha actual excede la cantidad de a\xf1os definida en ",Object(c.b)("inlineCode",{parentName:"p"},"yearsVigenciaDeclaracion"),"."),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"fechaUltimoAvaluo"),": Este valor indica la fecha del \xfaltimo aval\xfao. S\xf3lo se permite guardar una declaraci\xf3n nueva si la cantidad de a\xf1os que han transcurrido entre esa fecha y la fecha actual excede la cantidad de a\xf1os definida en ",Object(c.b)("inlineCode",{parentName:"p"},"yearsVigenciaAvaluo"),"."),Object(c.b)("pre",null,Object(c.b)("code",Object(t.a)({parentName:"pre"},{className:"language-python"}),"# Campo: declaracionEnProceso / declaracionIngresadaEnLinea\nEn caso de estar en `true`, no se permitir\xe1 guardar una declaraci\xf3n nueva.\n\n# C\xe1lculo de a\xf1os (declaraci\xf3n)\nint yearsDesdeUltimaFechaDeclaracion = yearFechaActual - year(fechaUltimaDeclaracion);\nif (yearsDesdeUltimaFechaDeclaracion >= yearsVigenciaDeclaracion) {\n  # Hacer la llamada para guardar declaraci\xf3n\n}\n\n# C\xe1lculo de a\xf1os (aval\xfao)\nint yearsDesdeUltimaFechaAvaluo = yearFechaActual - year(fechaUltimoAvaluo);\nif (yearsDesdeUltimaFechaAvaluo >= yearsVigenciaAvaluo) {\n  # Hacer la llamada para guardar declaraci\xf3n\n}\n")))}s.isMDXComponent=!0},159:function(e,a,n){"use strict";n.d(a,"a",(function(){return b})),n.d(a,"b",(function(){return u}));var t=n(0),r=n.n(t);function c(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function o(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function i(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?o(Object(n),!0).forEach((function(a){c(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function l(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},c=Object.keys(e);for(t=0;t<c.length;t++)n=c[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(t=0;t<c.length;t++)n=c[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=r.a.createContext({}),s=function(e){var a=r.a.useContext(d),n=a;return e&&(n="function"==typeof e?e(a):i(i({},a),e)),n},b=function(e){var a=s(e.components);return r.a.createElement(d.Provider,{value:a},e.children)},m={inlineCode:"code",wrapper:function(e){var a=e.children;return r.a.createElement(r.a.Fragment,{},a)}},p=r.a.forwardRef((function(e,a){var n=e.components,t=e.mdxType,c=e.originalType,o=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),b=s(n),p=t,u=b["".concat(o,".").concat(p)]||b[p]||m[p]||c;return n?r.a.createElement(u,i(i({ref:a},d),{},{components:n})):r.a.createElement(u,i({ref:a},d))}));function u(e,a){var n=arguments,t=a&&a.mdxType;if("string"==typeof e||t){var c=n.length,o=new Array(c);o[0]=p;var i={};for(var l in a)hasOwnProperty.call(a,l)&&(i[l]=a[l]);i.originalType=e,i.mdxType="string"==typeof e?e:t,o[1]=i;for(var d=2;d<c;d++)o[d]=n[d];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"}}]);